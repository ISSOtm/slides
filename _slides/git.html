---
layout: slides
title: "Becoming proficient with Git"
permalink: /git
plugins:
  - notes
slideNumber: c/t
---
<style type="text/css">
	.reveal small {
		vertical-align: initial;
	}

	/* SVG styling. */

	svg {
		color: var(--r-main-color);
	}
	text {
		font: 14px monospace;
		dominant-baseline: middle;
		fill: currentColor;
	}
	line, polyline, polygon {
		stroke: currentColor;
		fill: currentColor;
	}
	path {
		stroke: currentColor;
		fill: none;
	}
	use[href="#arrow-head"] + * {
		stroke-dasharray: 0 6 9999;
	}
	.centered {
		text-anchor: middle;
	}
	.right {
		text-anchor: end;
	}

	.commit {
		rx: 45px;
		ry: 30px;
		stroke: currentColor;
		fill: var(--r-background-color);
	}
	.commit-id {
		text-anchor: middle;
		fill: #ddaf3c !important;
		color: #ddaf3c !important;
	}
	.branch {
		fill: #4ebf22 !important;
		color: #4ebf22 !important;
		font-weight: bold;
	}
	.tag {
		fill: #ddaf3c !important;
		color: #ddaf3c !important;
		font-weight: bold;
	}
	.head {
		fill: #54e1b9 !important;
		color: #54e1b9 !important;
		font-weight: bold;
	}
	.remote-ref {
		fill: #dd3c69 !important;
		color: #dd3c69 !important;
	}

	/* Terminal styling. */

	.prompt { color: #4ebf22; }
	.cwd { color: #54e1b9; }
	.error { color: #dd3c69; }
	.warning { color: #ddaf3c; }
</style>
<svg style="display: none;">
	<defs>
		<polygon id="arrow-head" points="0,0 8,-4 8,4"/>
	</defs>
</svg>

<section>
	<h1>Becoming proficient with Git</h1>
	<p>‚ÑπÔ∏è Cette pr√©sentation est aussi <a href="/slides/git-fr">disponible en fran√ßais</a> !</p>
	<p>üë©‚Äçüíª <a href="/slides/git?shownotes">Autonomous version</a> (for solo reading)</p>

	<aside class="notes">
		<p>Estimated duration: one hour. <a href="https://revealjs.com">reveal.js user manual</a></p>
		<hr/>
		<p>Hello and welcome to this presentation covering the basics of Git.</p>
		<p>This presentation will (mostly) not talk about how to use Git in practice, but rather aims at introducing the concepts and theory that underlie Git.</p>
		<p>Understanding these concepts makes Git much simpler and intuitive to use... and thus you will become more efficient with it!</p>
	</aside>
</section>

<section>
	<h2>What is Git?</h2>

	<section>
		<p class="fragment">A distributed Version Control System (<abbr>VCS</abbr>)</p>
	</section>

	<section>
		<h3>Version control system</h3>
		<p class="fragment">= system allowing to manage different versions of a set of files</p>
		<p class="fragment">(Many intermediate versions between two releases!)</p>
		<p class="fragment">Often used to allow several people work the same on code... among other reasons!</p>

		<aside class="notes">
			<p>A version control system allows managing various versions of a set of files.</p>
			<p>The usefulness arises since, between two released versions, there are a lot of intermediate versions!</p>
			<p>If two people are working in parallel on a project, each of their (modified) copies constitutes a different version; a VCS therefore allows multiple people to work together much more easily!</p>
		</aside>
	</section>

	<section>
		<h3>Other VCS</h3>

		<ul>
			<li class="fragment">Subversion (SVN)</li>
			<li class="fragment">Perforce (p4)</li>
			<li class="fragment">CVS</li>
			<li class="fragment">Mercurial</li>
			<li class="fragment">Bazaar</li>
		</ul>

		<aside class="notes">
			<p>That said, Git is neither (nor the last) VCS, ‚Äúonly‚Äù the most popular currently.</p>
			<p>Here are a few others.</p>
		</aside>
	</section>

	<section>
		<h3>What Git is not</h3>

		<p class="fragment">Git ‚â† GitHub, GitLab, Gitea, etc.</p>
		<p class="fragment">Git = software tool (command line)</p>
		<p class="fragment">GitHub and GitLab = Git repository hosting services</p>
		<p class="fragment">Linux ‚â† OVH, for example</p>

		<aside class="notes">
			<p>Since Git is often used in tandem with GitHub, GitLab, etc., many confuse the two!</p>
			<p>GitHub, GitLab, etc. provide functionalities complementing Git's, but still, saying ‚ÄúI'm using GitHub on my computer‚Äù makes no sense.</p>
			<p>The difference between Git and Git{Hub,Lab,tea} is equivalent to the difference between Linux and OVH, for example.</p>
		</aside>
	</section>
</section>

<section>
	<h2>Why use Git?</h2>
	<p class="fragment">Benefits on several levels:</p>
	<ol>
		<li class="fragment">Backup system</li>
		<li class="fragment">Work in ‚Äúbranches‚Äù</li>
		<li class="fragment">Collaborative work</li>
	</ol>
	<p class="fragment"><strong>It's worth the trouble!</strong></p>

	<aside class="notes">
		<p>For beginners, the point of using Git may not be obvious, especially for small solo projects.</p>
		<p>Yet, Git's features are (in my opinion) simple to use, and useful to everyone!</p>
	</aside>
</section>

<section>
	<h2>Making backups with Git</h2>

	<section>
		<p>Let's start with a parenthesis on the word ‚Äúdistributed‚Äù.</p>
		<p class="fragment">You may have heard that Git is a <strong>distributed</strong> version control system .</p>
		<p class="fragment">What does that mean??</p>
	</section>
	<section>
		<h3>Two types of VCS</h3>
		<dl>
			<dt class="fragment">Centralised</dt>
			<dd class="fragment">Any action on the repo requires access to the server <small class="fragment">(Subversion, Perforce, etc.)</small></dd>
			<dt class="fragment">Distributed</dt>
			<dd class="fragment">No copy of the repo is special <small class="fragment">(Mercurial, <strong>Git</strong>, etc.)</small></dd>
	</section>
	<section>
		<h3>Benefits of a distributed system</h3>
		<ul>
			<li class="fragment">Each developer has a full<sup aria-describedby="footnote-distributed">1</sup> copy of the repo, not just the server.<br/><strong class="fragment">‚ûî Yay, cheap backups!</strong></li>
			<li class="fragment">Developers can work even offline!<br/><em class="fragment">(We will come back to conflict resolution later)</em></li>
		</ul>
		<small class="fragment" id="footnote-distributed"><sup>1</sup> For more details, watch <a href="https://www.youtube.com/watch?v=4XpnKHJAok8">this talk by Linus Torvalds at Google</a>.</small>
	</section>
</section>

<section>
	<h2>Basic concepts</h2>

	<section>
		<h3 class="fragment">Let's cut to <del>the chase</del> graphs</h3>
		<p class="fragment">‚ùóÔ∏è <strong>I promise, nothing complicated!</strong> <small>(there will be plenty of images)</small></p>
		<p class="fragment">Git is based on a <strong>graph</strong>.</p>

		<aside class="notes">
			<p>Well, time to get to the meat of the subject.</p>
			<p>Git's choice for representing the various versions, is a <strong>graph</strong>.</p>
			<p>This talk tries to make the different operations clearer, via animated visualisations!</p>
			<p><small>Note: I am doubtful about the accessibility of the diagrams, unfortunately, but I don't know how to transcribe them either. If you use assistive technologies, <a href="https://eldred.fr/about#contact">please contact me</a>!</small></p>
		</aside>
	</section>

	<section>
		<h3>What is a <strong>commit</strong>?</h3>

		<ul>
			<li class="fragment" data-fragment-index="0">A commit message</li>
			<li class="fragment" data-fragment-index="1">An author (name + email address)</li>
			<li class="fragment" data-fragment-index="2">(Some other metadata...)</li>
			<li class="fragment" data-fragment-index="3"><span class="fragment highlight-blue" data-fragment-index="5">A set of files and their contents</span></li>
			<li class="fragment" data-fragment-index="4"><span class="fragment highlight-blue" data-fragment-index="6">‚ÄúArrows‚Äù towards its parent(s)</span></li>
		</ul>
		<p class="fragment">A commit is identified in an <strong>unique</strong> way by its <strong>hash</strong>.</p>

		<aside class="notes">
			<p>A term that you will see very often, and that is actually essential, is the <strong>commit</strong>.</p>
			<p>Among all that constitutes a commit, what we are most interested in is the set of files it contains, and its family relationships.</p>
			<p>All of this is, finally, summed up into a <strong>hash</strong>.</p>
		</aside>
	</section>

	<section>
		<h3>A hash? Is that edible?</h3>

		<p class="fragment">All the information in a commit, <strong>including the contents of the files,</strong> are passed to a <strong>hashing</strong> function to obtain its <strong>hash</strong>.</p>
		<p class="fragment">Principle of a hash function: data <small>(a sequence of bytes)</small> is passed to it, it returns a number (‚Äúhash‚Äù); two identical entries ‚áî two identical hashes.</p>
		<small class="fragment">(More info for the curious <a href="https://en.wikipedia.org/wiki/Hash_function">on Wikipedia</a>)</small>
	</section>

	<section>
		<h3>Commit hashes</h3>

		<p class="fragment">The hash of a commit is a very large number, presented in <a href="https://en.wikipedia.org/wiki/Hexadecimal">hexadecimal</a>: <span class="fragment commit-id">6828f7bf493cd4c9c332ea769e6e38fbbe258821</span>.</p>
		<p class="fragment">Hashes are often shortened (by default to 7 characters): <span class="commit-id">6828f7b</span>, this is what we will use throughout this course.</p>
	</section>

	<section>
		<h3>‚ÄúPointers‚Äù</h3>
		<p class="fragment" data-fragment-index="0">It's not just commits that point to commits.</p>
		<svg viewBox="-5 -5 710 160" class="fragment" data-fragment-index="0">
			<ellipse cx="45" cy="75" class="commit"/><text x="45" y="75" class="commit-id">f37c942</text>
				<use x="90" y="75" href="#arrow-head"/><line x1="90" y1="75" x2="175" y2="75"/>
			<ellipse cx="220" cy="75" class="commit"/><text x="220" y="75" class="commit-id">984b311</text>
			<g class="fragment" data-fragment-index="3">
				<use x="220" y="105" href="#arrow-head" transform="rotate(90,220,105)"/><line x1="220" y1="105" x2="220" y2="130"/>
				<text x="220" y="140" class="tag centered">v1.7.10</text>
			</g>
				<use x="265" y="75" href="#arrow-head" transform="rotate(-33,265,75)"/><line x1="265" y1="75" x2="335" y2="30"/>
			<ellipse cx="380" cy="30" class="commit"/><text x="380" y="30" class="commit-id">c4fe9cc</text>
				<use x="425" y="30" href="#arrow-head"/><line x1="425" y1="30" x2="495" y2="30"/>
			<ellipse cx="540" cy="30" class="commit"/><text x="540" y="30" class="commit-id">700aced</text>
			<g class="fragment" data-fragment-index="2">
				<use x="585" y="30" href="#arrow-head"/><line x1="585" y1="30" x2="635" y2="30"/>
				<text x="640" y="30" class="branch">master</text>
			</g>
			<g class="fragment" data-fragment-index="4">
				<use x="540" y="60" href="#arrow-head" transform="rotate(90,540,60)"/><line x1="540" y1="60" x2="540" y2="80"/>
				<text x="540" y="90" class="head centered">HEAD</text>
			</g>
				<use x="265" y="75" href="#arrow-head" transform="rotate(33,265,75)"/><line x1="265" y1="75" x2="335" y2="120"/>
			<ellipse cx="380" cy="120" class="commit"/><text x="380" y="120" class="commit-id">150dab6</text>
			<g class="fragment" data-fragment-index="2">
				<use x="425" y="120" href="#arrow-head"/><line x1="425" y1="120" x2="475" y2="120"/>
				<text x="480" y="120" class="branch">network-fixes</text>
			</g>
		</svg>
		<p class="fragment" data-fragment-index="1">There are also
			<span class="fragment" data-fragment-index="2">branches,</span>
			<span class="fragment" data-fragment-index="3">tags,</span>
			<span class="fragment" data-fragment-index="4">and some other things.</span>
			<small class="fragment" data-fragment-index="5">(We'll talk about their differences later)</small>
		</p>
	</section>
</section>

<section>
	<h2>Manipulating the graph</h2>
	<section>
	</section>

	<section>
		<h3>Creating a commit</h3>
		<svg viewBox="-5 -5 435 70" style="max-height: 13vh;">
			<ellipse cx="45" cy="30" class="commit"/><text x="45" y="30" class="commit-id">f37c942</text>
				<use x="90" y="30" href="#arrow-head"/><line x1="90" y1="30" x2="175" y2="30"/>
			<ellipse cx="220" cy="30" class="commit"/><text x="220" y="30" class="commit-id">984b311</text>
			<g class="fragment" data-fragment-index="1">
				<use x="265" y="30" href="#arrow-head"/><line x1="265" y1="30" x2="335" y2="30"/>
				<ellipse cx="380" cy="30" class="commit"/><text x="380" y="30" class="commit-id">c4fe9cc</text>
			</g>
		</svg>
		<p class="fragment" data-fragment-index="0">To create a commit...</p>
		<p class="fragment" data-fragment-index="1">... we simply add it to the graph.</p>
	</section>

	<section>
		<h3>That's all!</h3>
		<p class="fragment">There is no trick here, (almost) all operations only ever add commits to the graph.</p>
		<p class="fragment">Though, let's talk about what happens when we do.</p>
	</section>

	<section>
		<h3><code>HEAD</code></h3>
		<p class="fragment"><code class="head">HEAD</code> refers to the commit that is currently <em>checked out</em>.</p>
		<p class="fragment">That is, it is the commit whose contents (files) are currently present in the directory.</p>
		<p class="fragment">The commit pointed to by <code class="head">HEAD</code> can be thought of as ‚Äúwhere we are right now‚Äù.</p>
	</section>

	<section>
		<h3 class="head"><code>HEAD</code></h3>
		<p class="fragment" data-fragment-index="0">And when creating a new commit?</p>
		<svg viewBox="-5 -5 435 105" style="max-height: 13vh;">
			<ellipse cx="45" cy="30" class="commit"/><text x="45" y="30" class="commit-id">f37c942</text>
				<use x="90" y="30" href="#arrow-head"/><line x1="90" y1="30" x2="175" y2="30"/>
			<ellipse cx="220" cy="30" class="commit"/><text x="220" y="30" class="commit-id">984b311</text>
			<g class="fragment fade-out" data-fragment-index="1">
				<use x="220" y="60" href="#arrow-head" transform="rotate(90,220,60)"/><line x1="220" y1="60" x2="220" y2="80"/>
				<text x="220" y="90" class="head centered">HEAD</text>
			</g>
			<g class="fragment" data-fragment-index="1">
				<use x="265" y="30" href="#arrow-head"/><line x1="265" y1="30" x2="335" y2="30"/>
				<ellipse cx="380" cy="30" class="commit"/><text x="380" y="30" class="commit-id">c4fe9cc</text>
				<use x="380" y="60" href="#arrow-head" transform="rotate(90,380,60)"/><line x1="380" y1="60" x2="380" y2="80"/>
				<text x="380" y="90" class="head centered">HEAD</text>
			</g>
		</svg>
		<p class="fragment" data-fragment-index="2"><code class="head">HEAD</code> follows the new commit <small>(it is automatically <em>checked out</em>)</small>.</p>
	</section>

	<section>
		<h3 class="branch">Branches</h3>
		<p class="fragment" data-fragment-index="0">And when creating a new commit?</p>
		<svg viewBox="-5 -5 435 105" style="max-height: 13vh;">
			<ellipse cx="45" cy="30" class="commit"/><text x="45" y="30" class="commit-id">f37c942</text>
			<use x="45" y="60" href="#arrow-head" transform="rotate(90,45,60)"/><line x1="45" y1="60" x2="45" y2="80"/>
			<text x="45" y="90" class="branch centered">master</text>
				<use x="90" y="30" href="#arrow-head"/><line x1="90" y1="30" x2="175" y2="30"/>
			<ellipse cx="220" cy="30" class="commit"/><text x="220" y="30" class="commit-id">984b311</text>
			<use x="220" y="60" href="#arrow-head" transform="rotate(151,220,60)"/><line x1="220" y1="60" x2="180" y2="82"/>
			<text x="177" y="90" class="branch right">develop</text>
			<g class="fragment fade-out" data-fragment-index="1">
				<use x="220" y="60" href="#arrow-head" transform="rotate(38,220,60)"/><line x1="220" y1="60" x2="250" y2="80"/>
				<text x="250" y="90" class="branch centered">crash-fix</text>
				<use x="293" y="90" href="#arrow-head"/><line x1="293" y1="90" x2="323" y2="90"/>
				<text x="325" y="90" class="head">HEAD</text>
			</g>
			<g class="fragment" data-fragment-index="1">
				<use x="265" y="30" href="#arrow-head"/><line x1="265" y1="30" x2="335" y2="30"/>
				<ellipse cx="380" cy="30" class="commit"/><text x="380" y="30" class="commit-id">c4fe9cc</text>
				<use x="380" y="60" href="#arrow-head" transform="rotate(90,380,60)"/><line x1="380" y1="60" x2="380" y2="80"/>
				<text x="380" y="90" class="branch centered">crash-fix</text>
				<use x="338" y="90" href="#arrow-head" transform="rotate(-180,338,90)"/><line x1="338" y1="90" x2="320" y2="90"/>
				<text x="318" y="90" class="head right">HEAD</text>
			</g>
		</svg>
		<p class="fragment" data-fragment-index="2">A <span class="branch">branch</span> follows the commit <strong>if and only if it is <em class="head">checked out</em></strong>.</p>
	</section>

	<section>
		<h3 class="tag">Tags</h3>
		<p class="fragment">A tag is <strong>immovable</strong> and cannot be <em class="head">checked out</em>, so it never follows a new commit.</p>
		<p class="fragment"><small>(To ‚Äúmove‚Äù a tag, it must be deleted and re-created elsewhere.)</small></p>
		<p class="fragment">‚ûî A branch is used to <em>follow</em> something (development of a feature...); a tag is used to <em>mark</em> a particular commit (version...)</p>
	</section>
</section>

<section>
	<h2>Let's talk commands</h2>
	<section>
		<p class="fragment">Try to <a href="https://cbea.ms/git-commit#learn-to-love-the-command-line-leave-the-ide-behind-">avoid graphic interfaces</a> if possible.</p>
		<p class="fragment">(At least at the beginning.)</p>
		<p class="fragment">For example, their handling of errors is often problematic...</p>
	</section>

	<section>
		<h3>Create a new Git repository</h3>
		{% highlight console %}
		$ git init
		{%- endhighlight %}
		<p class="fragment">Creates a new repository <strong>in the current directory</strong>.</p>
	</section>

	<section>
		<h3>What makes up a Git repository?</h3>
		<p class="fragment" data-fragment-index="0">Answer: the <code>.git</code> directory<sup aria-describedby="footnote-gitdir">1</sup>.</p>
		<ul>
			<li class="fragment" data-fragment-index="1">Git doesn't store anything outside of that directory.</li>
			<li class="fragment" data-fragment-index="2">Its parent directory can be freely moved, Git stores no absolute paths.</li>
			<li class="fragment" data-fragment-index="3">Git also looks for it in every parent directory of the current directory.</li>
		</ul>
		<p class="fragment" data-fragment-index="0"><small id="footnote-gitdir"><sup>1</sup> In some cases it's a file.</small></p>
	</section>

	<section>
		<h3>Creating a commit</h3>
		<script id="asciicast-30" src="https://asciinema.celforyon.fr/a/30.js" async data-rows="10"></script>
		<p class="fragment">Apparently there was an error?</p>
		<p class="fragment">Let's create a few files.</p>

		<aside class="notes">
			<p>NB: after clicking inside of the terminal, the presentation's controls are disabled. Click outside of the terminal to re-enable them.</p>
		</aside>
	</section>

	<section>
		<h3>‚ÄúWhere am I?‚Äù</h3>
		<script id="asciicast-31" src="https://asciinema.celforyon.fr/a/31.js" async data-rows="15"></script>

		<aside class="notes">
			<p><code>git status</code> is an extremely useful command, as it lets you know what state we are in, at any time; sometimes, we forget that we are in the middle of a certain operation, which causes some unexpected behaviour.</p>
			<p>A piece of advice: if <code>git status</code> indicates something that you do not know or understand, call a more experienced friend or colleague for help! üòâ</p>
		</aside>
	</section>

	<section>
		<h3>Let's talk <em>staging</em></h3>
		<p class="fragment fade-in-then-out"><small>I promise this is the last thing</small></p>
		<p class="fragment">Git lets you choose which modifications will be recorded in the next commit.</p>
		<p class="fragment">This is done via the <code>git add</code> command suggested by the earlier hint text.</p>
	</section>

	<section>
		<script id="asciicast-37" src="https://asciinema.celforyon.fr/a/37.js" async></script>

		<aside class="notes">
			<p>Let's now recap all of the commands we have seen, and end with an example of use of <code>git commit</code>.</p>
		</aside>
	</section>
</section>

<section>
	<h2>Interactive editor</h2>
	<section>
		<p class="fragment">We just witnessed <code>git commit</code> opening a text editor.</p>
		<figure class="fragment">
			<blockquote><small>
				Text editor for use by Git commands. The value is meant to be interpreted by the shell when it is used. Examples: <code>~/bin/vi</code>, <code>$SOME_ENVIRONMENT_VARIABLE</code>, <code>"C:\Program Files\Vim\gvim.exe" --nofork</code>.
				The order of preference is the <code>$GIT_EDITOR</code> environment variable, then <code>core.editor</code> configuration, then <code>$VISUAL</code>, then <code>$EDITOR</code>, and then the default chosen at compile time, which is usually <code>vi</code>.
			</small></blockquote>
			<figcaption><small>
				Source: <a href="https://git-scm.com/docs/git-var/#Documentation/git-var.txt-GITEDITOR"><code>GIT_EDITOR</code> documentation in <code>git-var</code></a>.
			</small></figcaption>
		</figure>
	</section>

	<section>
		<h3>Changing the configuration</h3>
		<p class="fragment">The editor used by default is <code>vi</code>, which has a... peculiar ergonomy.</p>
		<p class="fragment">To change that to <code>nano</code> (for example):</p>
		<div class="fragment">{% highlight console %}
			$ git config --global core.editor "nano"
		{%- endhighlight %}</div>
		<div class="fragment">
			<small>Setting <code>EDITOR</code> in your <code>.bashrc</code>/<code>.zshrc</code> also works.</small>
			{% highlight bash mark_lines="2" %}
				# ...
				export EDITOR=nano
				# ...
			{%- endhighlight %}
		</div>
	</section>

	<section>
		<h3>Using a graphical editor</h3>
		<p class="fragment">Yes, that's an option!</p>
		<p class="fragment">It is however crucial to ensure that the command only returns when the file is closed:</p>
		<dl style="display: block;">
			<div class="fragment"><dt>Sublime Text</dt><dd>{% highlight console %}$ git config --global core.editor "subl -w"{% endhighlight %}</dd></div>
			<div class="fragment"><dt>VS Code</dt><dd>{% highlight console %}$ git config --global core.editor "code -w"{% endhighlight %}</dd></div>
		</dl>

		<aside class="notes">
			<p>Room is limited in those slides, so only two examples are given here; if you are using another editor, consult its documentation to find an equivalent command line.</p>
		</aside>
	</section>
</section>

<section>
	<h2>Collaboration</h2>
	<section>
		<p class="fragment">Git on your machine = backup tool (and more)</p>
		<p class="fragment">Git on many machines = ü§Ø</p>
	</section>

	<section>
		<h3>Principle</h3>
		<p class="fragment">Each machine contains a Git repository. <small class="fragment"><code>.git</code> directory, etc.</small></p>
		<p class="fragment">Modifications can be ‚Äúpushed‚Äù to another machine, and ‚Äúpulled‚Äù from it as well.</p>
	</section>

	<section>
		<svg viewBox="40 -5 960 545">
			<defs>
				<g id="laptop" style="stroke-width: 2px;"><polygon points="10,0 70,0 70,50 10,50" style="fill: var(--r-background-color);"/><polygon points="10,50 70,50 80,70 0,70" fill-opacity="0.6"/></g>
			</defs>
			<style>.cmd { font-size: 18px; }</style>

			<use x="150" y="50" href="#laptop"/><text x="190" y="75" class="centered">origin</text>

			<g class="fragment" data-fragment-index="2">
				<ellipse cx="295" cy="30" class="commit"/><text x="295" y="30" class="commit-id">6846ef5</text>
				<g class="fragment fade-out" data-fragment-index="6">
					<use x="295" y="60" href="#arrow-head" transform="rotate(90,295,60)"/><line x1="295" y1="60" x2="295" y2="90"/><text x="295" y="100" class="branch centered">master</text>
				</g>
			</g>
			<g class="fragment" data-fragment-index="6">
					<use x="340" y="30" href="#arrow-head"/><line x1="340" y1="30" x2="375" y2="30"/>
				<ellipse cx="420" cy="30" class="commit"/><text x="420" y="30" class="commit-id">ac2b311</text>
					<use x="465" y="30" href="#arrow-head"/><line x1="465" y1="30" x2="500" y2="30"/>
				<ellipse cx="545" cy="30" class="commit"/><text x="545" y="30" class="commit-id">1234567</text>
				<g class="fragment fade-out" data-fragment-index="9">
					<use x="545" y="60" href="#arrow-head" transform="rotate(90,545,60)"/><line x1="545" y1="60" x2="545" y2="90"/><text x="545" y="100" class="branch centered">master</text>
				</g>
			</g>
			<g class="fragment" data-fragment-index="9">
					<use x="590" y="30" href="#arrow-head"/><line x1="590" y1="30" x2="625" y2="30"/>
				<ellipse cx="670" cy="30" class="commit"/><text x="670" y="30" class="commit-id">3d5f4a2</text>
					<use x="670" y="60" href="#arrow-head" transform="rotate(90,670,60)"/><line x1="670" y1="60" x2="670" y2="90"/><text x="670" y="100" class="branch centered">master</text>
			</g>

			<use x="170" y="415" href="#laptop"/><text x="210" y="440" class="centered">tsfe01</text>
			<text x="270" y="425" class="cmd fragment" data-fragment-index="0">$ git init</text>
			<text x="270" y="445" class="cmd fragment" data-fragment-index="1">$ git commit</text>
			<text x="270" y="465" class="cmd fragment" data-fragment-index="2">$ git push</text>
			<g class="fragment fade-in-then-out" data-fragment-index="2">
				<use x="280" y="120" href="#arrow-head" transform="rotate(137,280,120)"/><line x1="280" y1="120" x2="100" y2="290"/>
			</g>
			<text x="270" y="485" class="cmd fragment" data-fragment-index="7">$ git pull</text>
			<g class="fragment fade-in-then-out" data-fragment-index="7">
				<use x="360" y="290" href="#arrow-head" transform="rotate(-43,360,290)"/><line x1="360" y1="290" x2="530" y2="120"/>
			</g>
			<text x="270" y="505" class="cmd fragment" data-fragment-index="8">$ git commit</text>
			<text x="270" y="525" class="cmd fragment" data-fragment-index="9">$ git push</text>
			<g class="fragment fade-in-then-out" data-fragment-index="9">
				<use x="655" y="120" href="#arrow-head" transform="rotate(137,655,120)"/><line x1="655" y1="120" x2="485" y2="290"/>
			</g>

			<g class="fragment" data-fragment-index="1">
				<ellipse cx="95" cy="330" class="commit"/><text x="95" y="330" class="commit-id">6846ef5</text>
				<g class="fragment fade-out" data-fragment-index="7">
					<use x="95" y="360" href="#arrow-head" transform="rotate(90,95,360)"/><line x1="95" y1="360" x2="95" y2="390"/><text x="95" y="400" class="branch centered">master</text>
				</g>
			</g>
			<g class="fragment" data-fragment-index="7">
					<use x="140" y="330" href="#arrow-head"/><line x1="140" y1="330" x2="175" y2="330"/>
				<ellipse cx="220" cy="330" class="commit"/><text x="220" y="330" class="commit-id">ac2b311</text>
					<use x="265" y="330" href="#arrow-head"/><line x1="265" y1="330" x2="300" y2="330"/>
				<ellipse cx="345" cy="330" class="commit"/><text x="345" y="330" class="commit-id">1234567</text>
				<g class="fragment fade-out" data-fragment-index="8">
					<use x="345" y="360" href="#arrow-head" transform="rotate(90,345,360)"/><line x1="345" y1="360" x2="345" y2="390"/><text x="345" y="400" class="branch centered">master</text>
				</g>
			</g>
			<g class="fragment" data-fragment-index="8">
					<use x="390" y="330" href="#arrow-head"/><line x1="390" y1="330" x2="425" y2="330"/>
				<ellipse cx="470" cy="330" class="commit"/><text x="470" y="330" class="commit-id">3d5f4a2</text>
					<use x="470" y="360" href="#arrow-head" transform="rotate(90,470,360)"/><line x1="470" y1="360" x2="470" y2="390"/><text x="470" y="400" class="branch centered">master</text>
			</g>

			<use x="870" y="415" href="#laptop"/><text x="910" y="440" class="centered">tsfe02</text>
			<text x="720" y="425" class="cmd fragment" data-fragment-index="3">$ git clone</text>
			<g class="fragment fade-in-then-out" data-fragment-index="3">
				<use x="680" y="290" href="#arrow-head" transform="rotate(-155,680,290)"/><line x1="680" y1="290" x2="310" y2="120"/>
			</g>
			<text x="720" y="445" class="cmd fragment" data-fragment-index="4">$ git commit</text>
			<text x="720" y="465" class="cmd fragment" data-fragment-index="5">$ git commit</text>
			<text x="720" y="485" class="cmd fragment" data-fragment-index="6">$ git push</text>
			<g class="fragment fade-in-then-out" data-fragment-index="6">
				<use x="560" y="120" href="#arrow-head" transform="rotate(27,560,120)"/><line x1="560" y1="120" x2="930" y2="290"/>
			</g>

			<g class="fragment" data-fragment-index="3">
				<ellipse cx="695" cy="330" class="commit"/><text x="695" y="330" class="commit-id">6846ef5</text>
				<g class="fragment fade-out" data-fragment-index="4">
					<use x="695" y="360" href="#arrow-head" transform="rotate(90,695,360)"/><line x1="695" y1="360" x2="695" y2="390"/><text x="695" y="400" class="branch centered">master</text>
				</g>
			</g>
			<g class="fragment" data-fragment-index="4">
					<use x="740" y="330" href="#arrow-head"/><line x1="740" y1="330" x2="775" y2="330"/>
				<ellipse cx="820" cy="330" class="commit"/><text x="820" y="330" class="commit-id">ac2b311</text>
				<g class="fragment fade-out" data-fragment-index="5">
					<use x="820" y="360" href="#arrow-head" transform="rotate(90,820,360)"/><line x1="820" y1="360" x2="820" y2="390"/><text x="820" y="400" class="branch centered">master</text>
				</g>
			</g>
			<g class="fragment" data-fragment-index="5">
					<use x="865" y="330" href="#arrow-head"/><line x1="865" y1="330" x2="900" y2="330"/>
				<ellipse cx="945" cy="330" class="commit"/><text x="945" y="330" class="commit-id">1234567</text>
				<use x="945" y="360" href="#arrow-head" transform="rotate(90,945,360)"/><line x1="945" y1="360" x2="945" y2="390"/><text x="945" y="400" class="branch centered">master</text>
			</g>
		</svg>

		<aside class="notes">
			<p>Here is a scenario of Git being used on several machines.</p>
			<p>(Some of these commands will be explained in following slides.)</p>
			<p>The gist to take from it: each modification (new commit) is first created locally, then published, and finally retrieved by everyone else.</p>
		</aside>
	</section>

	<section>
		<h3>Summary</h3>
		<ul>
			<li class="fragment">To create a local copy of a remote repo: <code>git clone</code></li>
			<li class="fragment">To retrieve updates from a remote repo: <code>git pull</code></li>
			<li class="fragment">To publish my modifications to a remote copy: <code>git push</code></li>
		</ul>
	</section>

	<section>
		<h3>Some more terminology</h3>
		<p class="fragment">Git models remote machines using ‚Äú<strong>remotes</strong>‚Äù.</p>
		<p class="fragment">A remote = a certain repo on a certain machine <small class="fragment">(more or less)</small>.</p>
		<p class="fragment">Remotes are managed via <code>git remote</code>!</p>
	</section>

	<section>
		<h3>Remotes &amp; refs</h3>
		<svg viewBox="30 -5 540 395" style="max-height: 450px;">
			<defs>
				<g id="laptop" style="stroke-width: 2px;"><polygon points="10,0 70,0 70,50 10,50" style="fill: var(--r-background-color);"/><polygon points="10,50 70,50 80,70 0,70" fill-opacity="0.6"/></g>
			</defs>
			<style>.cmd { font-size: 18px; }</style>

			<use x="150" y="50" href="#laptop"/><g class="fragment highlight-current-red" data-fragment-index="3"><text x="190" y="75" class="centered">origin</text></g>

			<ellipse cx="295" cy="30" class="commit"/><text x="295" y="30" class="commit-id">ac2b311</text>
			<use x="295" y="60" href="#arrow-head" transform="rotate(90,295,60)"/><line x1="295" y1="60" x2="295" y2="90"/><text x="295" y="100" class="branch centered">master</text>
				<use x="340" y="30" href="#arrow-head"/><line x1="340" y1="30" x2="375" y2="30"/>
			<ellipse cx="420" cy="30" class="commit"/><text x="420" y="30" class="commit-id">6846ef5</text>
				<use x="420" y="60" href="#arrow-head" transform="rotate(90,420,60)"/><line x1="420" y1="60" x2="420" y2="90"/><text x="420" y="100" class="branch centered">develop</text>

			<use x="50" y="315" href="#laptop" style="color: cyan;"/><text x="90" y="340" class="centered">tsfe01</text>

				<line stroke-dasharray="2 2 2 2 2 2 999" x1="30" y1="230" x2="50" y2="230"/>
			<ellipse cx="95" cy="230" class="commit"/><text x="95" y="230" class="commit-id">6846ef5</text>
				<use x="95" y="260" href="#arrow-head" transform="rotate(90,95,260)"/><line x1="95" y1="260" x2="95" y2="290"/><text x="95" y="300" class="branch centered">develop</text>
				<use x="140" y="230" href="#arrow-head"/><line x1="140" y1="230" x2="175" y2="230"/>
			<ellipse cx="220" cy="230" class="commit"/><text x="220" y="230" class="commit-id">06adada</text>
				<use x="220" y="260" href="#arrow-head" transform="rotate(90,220,260)"/><line x1="220" y1="260" x2="220" y2="290"/><text x="220" y="300" class="branch centered">fix-tests</text>

			<use x="480" y="315" href="#laptop"/><g class="fragment highlight-current-red" data-fragment-index="5"><text x="520" y="340" class="centered">tsfe02</text></g>

			<ellipse cx="395" cy="230" class="commit"/><text x="395" y="230" class="commit-id">ac2b311</text>
				<use x="395" y="260" href="#arrow-head" transform="rotate(90,395,260)"/><line x1="395" y1="260" x2="395" y2="290"/><text x="395" y="300" class="branch centered">develop</text>
				<use x="440" y="230" href="#arrow-head"/><line x1="440" y1="230" x2="475" y2="230"/>
			<ellipse cx="520" cy="230" class="commit"/><text x="520" y="230" class="commit-id">24a8c81</text>
				<use x="520" y="260" href="#arrow-head" transform="rotate(90,520,260)"/><line x1="520" y1="260" x2="520" y2="290"/><text x="520" y="300" class="branch centered">lts-fixes</text>

			<text x="160" y="340" class="fragment branch" data-fragment-index="0">develop</text>
			<use x="125" y="310" href="#arrow-head" transform="rotate(40,125,310)" class="fragment" data-fragment-index="1"/><line x1="125" y1="310" x2="155" y2="335" class="fragment" data-fragment-index="1"/>
			<text x="160" y="360" class="fragment remote-ref" data-fragment-index="2">origin/develop</text>
			<use x="390" y="110" href="#arrow-head" transform="rotate(120,390,110)" class="fragment" data-fragment-index="3"/><line x1="390" y1="110" x2="250" y2="350" class="fragment" data-fragment-index="3"/>
			<text x="160" y="380" class="fragment remote-ref" data-fragment-index="4">tsfe02/develop</text>
			<use x="380" y="310" href="#arrow-head" transform="rotate(148,380,310)" class="fragment" data-fragment-index="5"/><line x1="380" y1="310" x2="280" y2="370" class="fragment" data-fragment-index="5"/>
		</svg>

		<aside class="notes">
			<p>Come on, time for a little practice!</p>
			<p>Let's assume we are on the machine <code>tsfe01</code>, and we have configured two <em>remotes</em>, <code>origin</code> and <code>tsfe02</code>.</p>
			<p>Which branches do the ‚Äúrefs‚Äù <code class="branch">develop</code>, <code class="remote-ref">origin/develop</code>, and <code class="remote-ref">tsfe02/develop</code> refer to?</p>
		</aside>
	</section>

	<section>
		<h3><code>git fetch</code></h3>
		<p class="fragment">Git does not make network requests for each command.</p>
		<ul>
			<li class="fragment">Saves bandwidth</li>
			<li class="fragment">Allows working offline</li>
		</ul>
		<p class="fragment">To remain up to date: <code>git fetch <var>&lt;remote&gt;</var></code>.</p>
		<p class="fragment"><small>(<code>git pull</code> implicitly calls <code>git fetch</code>.)</small></p>
	</section>
</section>

<section>
	<h2>Collaboration (2)</h2>

	<section>
		<h3>When things go wrong</h3>
		<svg viewBox="40 -5 540 395" style="max-height: 450px;">
			<defs>
				<g id="laptop" style="stroke-width: 2px;"><polygon points="10,0 70,0 70,50 10,50" style="fill: var(--r-background-color);"/><polygon points="10,50 70,50 80,70 0,70" fill-opacity="0.6"/></g>
			</defs>
			<style>.cmd { font-size: 18px; }</style>

			<use x="150" y="50" href="#laptop"/><text x="190" y="75" class="centered">origin</text>

			<ellipse cx="295" cy="30" class="commit"/><text x="295" y="30" class="commit-id">6846ef5</text>
			<g class="fragment fade-out" data-fragment-index="2">
				<use x="295" y="60" href="#arrow-head" transform="rotate(90,295,60)"/><line x1="295" y1="60" x2="295" y2="90"/><text x="295" y="100" class="branch centered">master</text>
			</g>
			<g class="fragment" data-fragment-index="2">
					<use x="340" y="30" href="#arrow-head"/><line x1="340" y1="30" x2="375" y2="30"/>
				<ellipse cx="420" cy="30" class="commit"/><text x="420" y="30" class="commit-id">ac2b311</text>
					<use x="420" y="60" href="#arrow-head" transform="rotate(90,420,60)"/><line x1="420" y1="60" x2="420" y2="90"/><text x="420" y="100" class="branch centered">master</text>
			</g>

			<use x="50" y="315" href="#laptop"/><text x="90" y="340" class="centered">tsfe01</text>
			<text x="150" y="345" class="cmd fragment" data-fragment-index="1">$ git commit</text>
			<text x="150" y="365" class="cmd fragment" data-fragment-index="3">$ git push</text>
			<g class="fragment" data-fragment-index="3">
				<use x="400" y="120" href="#arrow-head" transform="rotate(157,400,120)"/><line x1="400" y1="120" x2="235" y2="190"/>
			</g>
			<text x="315" y="145" class="centered fragment fade-up" data-fragment-index="4" style="font-size: 20px;">?</text>

			<ellipse cx="95" cy="230" class="commit"/><text x="95" y="230" class="commit-id">6846ef5</text>
			<g class="fragment fade-out" data-fragment-index="1">
				<use x="95" y="260" href="#arrow-head" transform="rotate(90,95,260)"/><line x1="95" y1="260" x2="95" y2="290"/><text x="95" y="300" class="branch centered">master</text>
			</g>
			<g class="fragment" data-fragment-index="1">
					<use x="140" y="230" href="#arrow-head"/><line x1="140" y1="230" x2="175" y2="230"/>
				<ellipse cx="220" cy="230" class="commit"/><text x="220" y="230" class="commit-id">06adada</text>
					<use x="220" y="260" href="#arrow-head" transform="rotate(90,220,260)"/><line x1="220" y1="260" x2="220" y2="290"/><text x="220" y="300" class="branch centered">master</text>
			</g>

			<use x="480" y="315" href="#laptop"/><text x="520" y="340" class="centered">tsfe02</text>
			<text x="340" y="345" class="cmd fragment" data-fragment-index="0">$ git commit</text>
			<text x="340" y="365" class="cmd fragment" data-fragment-index="2">$ git push</text>
			<g class="fragment fade-in-then-out" data-fragment-index="2">
				<use x="440" y="120" href="#arrow-head" transform="rotate(50,440,120)"/><line x1="440" y1="120" x2="510" y2="190"/>
			</g>

			<ellipse cx="395" cy="230" class="commit"/><text x="395" y="230" class="commit-id">6846ef5</text>
			<g class="fragment fade-out" data-fragment-index="0">
				<use x="395" y="260" href="#arrow-head" transform="rotate(90,395,260)"/><line x1="395" y1="260" x2="395" y2="290"/><text x="395" y="300" class="branch centered">master</text>
			</g>
			<g class="fragment" data-fragment-index="0">
					<use x="440" y="230" href="#arrow-head"/><line x1="440" y1="230" x2="475" y2="230"/>
				<ellipse cx="520" cy="230" class="commit"/><text x="520" y="230" class="commit-id">ac2b311</text>
					<use x="520" y="260" href="#arrow-head" transform="rotate(90,520,260)"/><line x1="520" y1="260" x2="520" y2="290"/><text x="520" y="300" class="branch centered">master</text>
			</g>
		</svg>

		<aside class="notes">
			<p>Until now, we've only seen cases where everything went right.</p>
			<p>Yet, it's extremely common to end up in a conflicting situation.</p>
			<p>Let's start from a configuration where everyone agrees, and see how a problem can arise in only four commands!</p>
		</aside>
	</section>

	<section>
		<h3>When things go wrong...</h3>

		<p class="fragment" data-fragment-index="0">...Git has our backs.</p>
		<pre class="fragment" data-fragment-index="0"><small><code><span class="prompt">issotm@sheik-kitty</span> <span class="cwd">/tmp/test</span>% git push
To example.com:path/to/repo.git
<span class="error"> ! [rejected]</span>        master -> master (<span class="fragment highlight-green" data-fragment-index="1">non-fast-forward</span>)
<span class="error">error: failed to push some refs to 'example.com:path/to/repo.git'</span>
<span class="warning">hint: Updates were rejected because a pushed branch tip is behind its remote
hint: counterpart. Check out this branch and integrate the remote changes
hint: (e.g. 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.</span></code></small></pre>
		<p class="fragment" data-fragment-index="1">... ‚Äúnon-fast-forward‚Äù?</p>

		<aside class="notes">
			<p>Thankfully, Git will not allow that last <code>git push</code>.</p>
			<p>The error message may appear scary, but <strong>do not worry</strong>, it's actually indicating that <strong>nothing has happened</strong>.</p>
			<p>Now, a specific term in that error message is worth extra scrutiny...</p>
		</aside>
	</section>

	<section>
		<h3>Fast-forwarding</h3>

		<p class="fragment" data-fragment-index="0">‚ÄúFast-forwarding‚Äù a branch means ‚Äúmoving it only towards children commits‚Äù:</p>
		<svg viewBox="40 -5 500 220" class="fragment" data-fragment-index="1" style="max-height: 360px;">
			<ellipse cx="95" cy="30" class="commit"/><text x="95" y="30" class="commit-id">6846ef5</text>
				<use x="140" y="30" href="#arrow-head"/><line x1="140" y1="30" x2="175" y2="30"/>
			<ellipse cx="220" cy="30" class="commit"/><text x="220" y="30" class="commit-id">ac2b311</text>
				<use x="220" y="60" href="#arrow-head" transform="rotate(90,220,60)"/><line x1="220" y1="60" x2="220" y2="80"/><text x="220" y="90" class="branch centered">master</text>
				<use x="265" y="30" href="#arrow-head"/><line x1="265" y1="30" x2="300" y2="30"/>
			<ellipse cx="345" cy="30" class="commit"/><text x="345" y="30" class="commit-id">1234567</text>
				<use x="130" y="50" href="#arrow-head" transform="rotate(58,130,50)"/><line x1="130" y1="50" x2="175" y2="120"/>
			<ellipse cx="200" cy="140" class="commit"/><text x="200" y="140" class="commit-id">06adada</text>
				<use x="255" y="50" href="#arrow-head" transform="rotate(58,255,50)"/><line x1="255" y1="50" x2="300" y2="120"/>
			<ellipse cx="325" cy="140" class="commit"/><text x="325" y="140" class="commit-id">3d5f4a2</text>
				<use x="390" y="30" href="#arrow-head"/><line x1="390" y1="30" x2="425" y2="30"/>
			<ellipse cx="470" cy="30" class="commit"/><text x="470" y="30" class="commit-id">feedfac</text>
			<g class="fragment" data-fragment-index="2">
				<g class="fragment fade-out" data-fragment-index="4">
					<use x="345" y="60" href="#arrow-head" transform="rotate(90,345,60)"/><line x1="345" y1="60" x2="345" y2="80"/><text x="345" y="90" class="branch centered">master</text>
					<g class="fragment highlight-green" data-fragment-index="3">
						<use x="315" y="90" href="#arrow-head" transform="rotate(-180,315,90)"/><line x1="315" y1="90" x2="250" y2="90"/>
					</g>
				</g>
			</g>
			<g class="fragment" data-fragment-index="4">
				<g class="fragment fade-out" data-fragment-index="6">
					<use x="95" y="60" href="#arrow-head" transform="rotate(90,95,60)"/><line x1="95" y1="60" x2="95" y2="80"/><text x="95" y="90" class="branch centered">master</text>
					<g class="fragment highlight-red" data-fragment-index="5">
						<use x="125" y="90" href="#arrow-head"/><line x1="125" y1="90" x2="190" y2="90"/>
					</g>
				</g>
			</g>
			<g class="fragment" data-fragment-index="6">
				<g class="fragment fade-out" data-fragment-index="8">
					<use x="325" y="170" href="#arrow-head" transform="rotate(90,325,170)"/><line x1="325" y1="170" x2="325" y2="190"/><text x="325" y="200" class="branch centered">master</text>
					<g class="fragment highlight-green" data-fragment-index="7">
						<use x="300" y="190" href="#arrow-head" transform="rotate(-123,300,190)"/><line x1="300" y1="190" x2="240" y2="100"/>
					</g>
				</g>
			</g>
			<g class="fragment" data-fragment-index="8">
				<g class="fragment fade-out" data-fragment-index="10">
					<use x="470" y="60" href="#arrow-head" transform="rotate(90,470,60)"/><line x1="470" y1="60" x2="470" y2="80"/><text x="470" y="90" class="branch centered">master</text>
					<g class="fragment highlight-green" data-fragment-index="9">
						<use x="440" y="90" href="#arrow-head" transform="rotate(-180,440,90)"/><line x1="440" y1="90" x2="250" y2="90"/>
					</g>
				</g>
			</g>
			<g class="fragment" data-fragment-index="10">
				<g class="fragment fade-out" data-fragment-index="12">
					<use x="200" y="170" href="#arrow-head" transform="rotate(90,200,170)"/><line x1="200" y1="170" x2="200" y2="190"/><text x="200" y="200" class="branch centered">master</text>
					<g class="fragment highlight-red" data-fragment-index="11">
						<use x="170" y="200" href="#arrow-head" transform="rotate(-167,170,200)"/><path d="M 170,200 c -40,0 -60,-110 20,-110"/>
					</g>
				</g>
			</g>
		</svg>

		<aside class="notes">
			<p><strong>Fast-forwarding</strong> is a <strong>crucial</strong> concept!</p>
			<p>To help understand that definition better, here is a little game: for each of the shown movements of the <code class="branch">master</code> branch, try guessing whether it's ‚Äúfast-forward‚Äù or not.</p>
		</aside>
	</section>

	<section>
		<h3>Fast-forwarding</h3>

		<p class="fragment"><small>‚ÄúFast-forwarding‚Äù because it's only ever going ‚Äúforward‚Äù in time.</small></p>
		<p class="fragment">Fast-forward = always safe (can't ‚Äúlose‚Äù any commits).</p>
		<p class="fragment">...what about non-fast-forward cases?</p>
		<ul>
			<li class="fragment"><code>git merge</code></li>
			<li class="fragment"><code>git rebase</code></li>
		</ul>
	</section>
</section>

<section>
	<h2>Merge</h2>

	<section>
		<h3>Principle</h3>
		<svg viewBox="40 -5 500 215" style="max-height: 360px;">
			<ellipse cx="95" cy="30" class="commit"/><text x="95" y="30" class="commit-id">6846ef5</text>
				<use x="140" y="30" href="#arrow-head"/><line x1="140" y1="30" x2="175" y2="30"/>
			<ellipse cx="220" cy="30" class="commit"/><text x="220" y="30" class="commit-id">ac2b311</text>
				<use x="265" y="30" href="#arrow-head"/><line x1="265" y1="30" x2="300" y2="30"/>
			<ellipse cx="345" cy="30" class="commit"/><text x="345" y="30" class="commit-id">1234567</text>
				<use x="345" y="60" href="#arrow-head" transform="rotate(90,345,60)"/><line x1="345" y1="60" x2="345" y2="80"/><text x="345" y="90" class="branch centered">master</text>
				<use x="130" y="50" href="#arrow-head" transform="rotate(58,130,50)"/><line x1="130" y1="50" x2="175" y2="120"/>
			<ellipse cx="200" cy="140" class="commit"/><text x="200" y="140" class="commit-id">06adada</text>
			<g class="fragment fade-out" data-fragment-index="0">
				<use x="325" y="170" href="#arrow-head" transform="rotate(90,325,170)"/><line x1="325" y1="170" x2="325" y2="190"/><text x="325" y="200" class="branch centered">add-dark-mode</text>
			</g>
				<use x="245" y="140" href="#arrow-head"/><line x1="245" y1="140" x2="280" y2="140"/>
			<ellipse cx="325" cy="140" class="commit"/><text x="325" y="140" class="commit-id">3d5f4a2</text>
			<g class="fragment" data-fragment-index="0">
					<use x="470" y="60" href="#arrow-head" transform="rotate(90,470,60)"/><line x1="470" y1="60" x2="470" y2="80"/><text x="470" y="90" class="branch centered">add-dark-mode</text>
					<use x="390" y="30" href="#arrow-head"/><line x1="390" y1="30" x2="425" y2="30"/>
					<use x="365" y="125" href="#arrow-head" transform="rotate(-45,365,125)"/><line x1="365" y1="125" x2="440" y2="40"/>
				<ellipse cx="470" cy="30" class="commit"/><text x="470" y="30" class="commit-id">feedfac</text>
			</g>
			<g class="fragment" data-fragment-index="1" style="color: #17ff2e;">
				<use x="410" y="90" href="#arrow-head" transform="rotate(-180,410,90)"/><line x1="410" y1="90" x2="375" y2="90"/>
			</g>
		</svg>

		<aside class="notes">
			<p>A ‚Äúmerge‚Äù consists of creating a new commit (logically dubbed ‚Äúmerge commit‚Äù), whose parents are the commits that we are seeking to ‚Äúgather‚Äù.</p>
			<p>Once that commit has been created, we can fast-forward the <code class="branch">master</code> branch towards <code class="branch">add-dark-mode</code>, since <code class="commit-id">feedfac</code> is a <strong>child</strong> commit of <code class="commit-id">1234567</code>!</p>
			<p><small>That <code class="commit-id">feedfac</code> is a child of other commits as well is not a problem; we could imagine that commit as containing all of the modifications introduced in the <code class="branch">add-dark-mode</code> branch.</small></p>
		</aside>
	</section>

	<section>
		<p>Advantages:</p>
		<ul>
			<li class="fragment">History preserved</li>
		</ul>
		<p>Downsides:</p>
		<ul>
			<li class="fragment">Non-linear <span class="branch">master</span></li>
			<li class="fragment">‚ÄúMerge commits‚Äù are artificial</li>
		</ul>
	</section>

	<section>
		<h3>Command</h3>

		<p class="fragment"><code><a href="https://git-scm.com/docs/git-merge">git merge</a> &lt;commit&gt;...</code></p>
		<p class="fragment">Creates a new commit <strong>on the current branch</strong> that ‚Äúgathers‚Äù the current branch and all <code>&lt;commit&gt;</code>s.</p>
		<p class="fragment"><small>We will explain the ‚Äúgather‚Äùing together with <code>rebase</code>.</small></p>
		<p class="fragment">Example: <code>git merge <span class="branch">master</span></code></p>
	</section>
</section>

<section>
	<h2>Rebase</h2>

	<section>
		<h3>Principle</h3>

		<svg viewBox="40 -5 600 215" style="max-height: 360px;">
			<ellipse cx="95" cy="30" class="commit"/><text x="95" y="30" class="commit-id">6846ef5</text>
				<use x="140" y="30" href="#arrow-head"/><line x1="140" y1="30" x2="175" y2="30"/>
			<ellipse cx="220" cy="30" class="commit"/><text x="220" y="30" class="commit-id">ac2b311</text>
				<use x="265" y="30" href="#arrow-head"/><line x1="265" y1="30" x2="300" y2="30"/>
			<ellipse cx="345" cy="30" class="commit"/><text x="345" y="30" class="commit-id">1234567</text>
				<use x="345" y="60" href="#arrow-head" transform="rotate(90,345,60)"/><line x1="345" y1="60" x2="345" y2="80"/><text x="345" y="90" class="branch centered">master</text>
			<g class="fragment semi-fade-out" data-fragment-index="0">
					<use x="130" y="50" href="#arrow-head" transform="rotate(58,130,50)"/><line x1="130" y1="50" x2="175" y2="120"/>
				<ellipse cx="200" cy="140" class="commit"/><text x="200" y="140" class="commit-id">06adada</text>
					<use x="245" y="140" href="#arrow-head"/><line x1="245" y1="140" x2="280" y2="140"/>
				<ellipse cx="325" cy="140" class="commit"/><text x="325" y="140" class="commit-id">3d5f4a2</text>
			</g>
			<g class="fragment fade-out" data-fragment-index="0">
				<use x="325" y="170" href="#arrow-head" transform="rotate(90,325,170)"/><line x1="325" y1="170" x2="325" y2="190"/><text x="325" y="200" class="branch centered">add-dark-mode</text>
			</g>
			<g class="fragment" data-fragment-index="0">
					<use x="380" y="50" href="#arrow-head" transform="rotate(58,380,50)"/><line x1="380" y1="50" x2="425" y2="120"/>
				<ellipse cx="450" cy="140" class="commit"/><text x="450" y="140" class="commit-id">14e684a</text>
					<use x="495" y="140" href="#arrow-head"/><line x1="495" y1="140" x2="530" y2="140"/>
				<ellipse cx="575" cy="140" class="commit"/><text x="575" y="140" class="commit-id">af58e36</text>
					<use x="575" y="170" href="#arrow-head" transform="rotate(90,575,170)"/><line x1="575" y1="170" x2="575" y2="190"/><text x="575" y="200" class="branch centered">add-dark-mode</text>
			</g>
			<g class="fragment" data-fragment-index="1" style="color: #17ff2e;">
				<use x="515" y="200" href="#arrow-head" transform="rotate(-180,515,200)"/><path d="M 515,200 c -80,0 -130,-50 -170,-100"/>
			</g>
		</svg>

		<aside class="notes">
			<p>A ‚Äúrebase‚Äù has significantly more complex execution:</p>
			<ol>
				<li>We ‚Äúrewind‚Äù <code class="branch">add-dark-mode</code> until finding a commit parent of <code class="branch">master</code>;</li>
				<li>We ‚Äúfast-forward‚Äù <code class="branch">add-dark-mode</code> up to <code class="branch">master</code>;</li>
				<li>And finally, we re-apply each commit that we had ‚Äúrewound‚Äù over in step 1.</li>
			</ol>
			<p>Attention: since we created <strong>new</strong> commits in step 3 (they don't have the same parents as the originals, and probably not the same creation date), <strong>they do not have the same hash</strong>!</p>
		</aside>
	</section>

	<section>
		<h3>Command</h3>

		<p class="fragment"><code><a href="https://git-scm.com/docs/git-rebase">git rebase</a> &lt;new-base&gt; [&lt;branch&gt;]</code></p>
		<p class="fragment">If <code>&lt;branch&gt;</code> is omitted, the current branch is modified.</p>
		<p class="fragment">Example: <code>git rebase <span class="branch">master</span></code> <small class="fragment">(or <code>git rebase <span class="branch">master</span> <span class="branch">add-dark-mode</span></code>)</small></p>
	</section>
</section>

<section>
	<section>
		<h2>Quick recap</h2>

		<aside class="notes">
			<p>Phew!</p>
			<p>After all of this information dump, let's quickly go over on the most important commands we have seen thus far.</p>
			<p>If you feel like it, you can try guessing the command associated with each action shown!</p>
		</aside>
	</section>

	<section>
		<h2>Create a new repo</h2>

		<p class="fragment"><code>git init</code></p>
		<p class="fragment">‚ö†Ô∏è Creates a repo <strong>in the current directory</strong>!</p>
	</section>

	<section>
		<h2>Create a local copy of a repo</h2>

		<p class="fragment"><code>git clone &lt;URL&gt;</code></p>
		<div class="fragment">
			<script id="asciicast-36" src="https://asciinema.celforyon.fr/a/36.js" async></script>
		</div>
	</section>

	<section data-auto-animate>
		<h2>Finding ourselves</h2>

		<p class="fragment"><code>git status</code></p>
		<pre class="fragment"><small><code><span class="prompt">issotm@sheik-kitty</span> <span class="cwd">/tmp/rgbds</span>% git status
On branch master
Your branch is up to date with 'origin/master'.

nothing to commit, working tree clean</code></small></pre>
	</section>

	<section data-auto-animate>
		<h2>Finding ourselves</h2>

		<p><code>git status</code></p>
		<pre><small><code><span class="prompt">issotm@sheik-kitty</span> <span class="cwd">/tmp/rgbds</span>% git status
On branch master
Your branch is up to date with 'origin/master'.

Changes not staged for commit:
  (use "git add/rm &lt;file&gt;..." to update what will be committed)
  (use "git restore &lt;file&gt;..." to discard changes in working directory)
        <span class="error">modified:   .editorconfig</span>
        <span class="error">deleted:    .checkpatch.conf</span>

no changes added to commit (use "git add" and/or "git commit -a")</code></small></pre>
	</section>

	<section>
		<h2>Select modifications to commit</h2>

		<p class="fragment"><code>git add</code></p>
		<pre class="fragment"><small><code>
<span class="prompt">issotm@sheik-kitty</span> <span class="cwd">/tmp/rgbds</span>% git add .editorconfig
<span class="prompt">issotm@sheik-kitty</span> <span class="cwd">/tmp/rgbds</span>% git status
On branch master
Your branch is up to date with 'origin/master'.

Changes to be committed:
  (use "git restore --staged &lt;file&gt;..." to unstage)
        <span class="prompt">modified:   .editorconfig</span>

Changes not staged for commit:
  (use "git add/rm &lt;file&gt;..." to update what will be committed)
  (use "git restore &lt;file&gt;..." to discard changes in working directory)
        <span class="error">deleted:    .checkpatch.conf</span></code></small></pre>
	</section>
</section>

<!-- TODO : checkout, branch, bisect, cherry-pick, rebase -i, stash, blame, add -p, rm, mv ; good commit message -->

	<!-- section>
		<h3>The garbage collector</h3>
		<p class="fragment">Each commit has either zero, one, or several arrows pointing towards it. We talk about a <em>reference count</em> (refcount).</p>
		<p class="fragment"><strong>A commit whose refcount reaches zero is not immediately deleted!</strong></p>
		<p class="fragment">We will see why later.</p>
	</section -->

<section>
	<h2>Goodies</h2>

	<p class="fragment">A neater visualiser for <code>git diff</code> and <code>git blame</code> : <a href="https://github.com/dandavison/delta#readme">delta</a></p>
	<p class="fragment">The Git status can be shown in the shell prompt (for example via <a href="https://github.com/romkatv/powerlevel10k">powerlevel10k</a>)</p>
	<p class="fragment">A good graphical interface (though freeware): <a href="https://sublimemerge.com">Sublime Merge</a> <small class="fragment">(I recommend because it shows the commands it executes)</small></p>
	<p class="fragment">If you use an IDE, it may have a Git integration (sometimes via extensions), read the docs</p>

	<aside class="notes">
		<p>Git works really well on its own, but it also benefits from an excellent ecosystem and good integrations roughly anywhere.</p>
		<p>Here are some suggestions of peripheral tools.</p>
	</aside>
</section>

<section>
	<h1>Thank you for following!</h1>

	<p>The slides are available online: <a href="https://eldred.fr/slides/git">https://eldred.fr/slides/git</a>!</p>
	<img src="assets/git/qr.png" class="r-stretch"/>
</section>
